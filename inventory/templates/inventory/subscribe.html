{% extends 'base_site.html' %}

{% comment %}
    Make this more like:
    https://github.com/dj-stripe/dj-stripe/blob/master/tests/apps/example/templates/purchase_subscription.html
{% endcomment %}

{% block title %}Subscribe{% endblock %}
{% block bodytag %}class="subscribe"{% endblock %}

{% block content %}
<div class="raw">
    <h1>Subscribe</h1>

    <form action="/charge" method="post" id="payment-form">
      <div class="form-row" style="margin: 1rem 0;">
        <label for="card-element">Credit or debit card</label>
        <div id="card-element">
          <!-- A Stripe Element will be inserted here. -->
        </div>

        <!-- Used to display Element errors. -->
        <div id="card-errors" role="alert"></div>
      </div>

      <button>Submit payment</button>
    </form>
</div>
{% endblock %}

{% block page_js %}
<script>
    var stripe = Stripe('{{ stripe_key }}');
    var elements = stripe.elements();

    var style = {
        base: {
            // Add your base input styles here. For example:
            fontSize: '16px',
            color: "#32325d"
        }
    };

    var card = elements.create('card', {style: style});
    card.mount('#card-element');
</script>
{% endblock %}
