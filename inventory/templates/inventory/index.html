{% extends 'base_site.html' %}

{% block content %}

{% if not cameras_total or not rolls or not email %}
{% include 'inventory/_onboarding.html' %}
{% endif %}

{% include 'partials/projects.html' with items=projects_current %}

<section>
    <h2 class="c-heading c-heading--divider"><a href="{% url 'projects' %}">Projects</a></h2>
    {% if projects_current %}
        {% for project in projects_current %}
            {% include 'inventory/_card.html' with name=project.name location=project.get_absolute_url slot='count' count=project.get_rolls_remaining %}
        {% endfor %}
    {% else %}
        {% url 'project-add' as project_add_url %}
        {% include 'inventory/_card.html' with name='No current projects. Add a new one.' location=project_add_url type='blank' %}
    {% endif %}
</section>

{% if rolls_loaded %}
<section>
    <h2 class="c-heading c-heading--divider"><a title="View all your cameras." href="{% url 'cameras' %}">Loaded</a></h2>
    {% for roll in rolls_loaded %}
        {% url 'roll-detail' roll.id as roll_detail %}
        {% if roll.camera_back %}
            {% include 'inventory/_card.html' with name=roll.camera_back location=roll_detail slot='reminder' roll=roll %}
        {% else %}
            {% include 'inventory/_card.html' with name=roll.camera.name location=roll_detail slot='reminder' roll=roll %}
        {% endif %}
    {% endfor %}
</section>
{% endif %}

{% if cameras_empty or camera_backs_empty %}
<section>
    <h2 class="c-heading c-heading--divider"><a title="View all your cameras." href="{% url 'cameras' %}">Ready to Load</a></h2>
    {% if cameras_empty %}
    {% for camera in cameras_empty %}
        {% url 'camera-load' camera.id as camera_load %}
        {% include 'inventory/_card.html' with name=camera.name location=camera_load slot='reminder' %}
    {% endfor %}
    {% endif %}
    {% if camera_backs_empty %}
    {% for back in camera_backs_empty %}
        {% url 'camera-back-load' back.camera.id back.id as camera_back_load %}
        {% include 'inventory/_card.html' with name=back location=camera_back_load slot='reminder' %}
    {% endfor %}
    {% endif %}
</section>
{% endif %}
{% endblock %}
