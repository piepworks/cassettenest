{% extends 'base_site.html' %}

{% block title %} / Ready to Process{% endblock %}

{% block content %}
<h2>Rolls Ready to Process</h2>

{% if rolls %}
<h3>You have {{ rolls.count }} rolls ready to process.</h3>

<ul>
    <li>Formats
        <ul>
            {% regroup rolls_by_format by film.get_format_display as format_list %}
            {% for format in format_list %}
            <li>{{ format.grouper }}: <b>{{ format.list|length }}</b></li>
            {% endfor %}
        </ul>
    </li>
    <li>Types
        <ul>
            {% regroup rolls_by_type by film.get_type_display as type_list %}
            {% for type in type_list %}
            <li>{{ type.grouper }}: <b>{{ type.list|length }}</b></li>
            {% endfor %}
        </ul>
    </li>
</ul>

<hr />

<table class="ready">
    <thead>
        <tr>
            <th></th>
            <th></th>
            <th>35mm</th>
            <th>120</th>
            <th>Totals</th>
        </tr>
    </thead>

    <tr>
        <th>C41 Color</th>
        <td></td>
        <td>{{ rolls_c41_135|default:"" }}</td>
        <td>{{ rolls_c41_120|default:"" }}</td>
        <td>{{ rolls_c41|default:"" }}</td>
    </tr>
    {% if rolls_pull2_c41_135 or rolls_pull2_c41_120 %}
    <tr class="push-pull">
        <td></td>
        <td>Pull 2 stops</td>
        <td>{{ rolls_pull2_c41_135|default:"" }}</td>
        <td>{{ rolls_pull2_c41_120|default:"" }}</td>
        <td></td>
    </tr>
    {% endif %}
    {% if rolls_pull2_c41_135 or rolls_pull2_c41_120 %}
    <tr class="push-pull">
        <td></td>
        <td>Pull 1 stop</td>
        <td>{{ rolls_pull1_c41_135|default:"" }}</td>
        <td>{{ rolls_pull1_c41_120|default:"" }}</td>
        <td></td>
    </tr>
    {% endif %}
    {% if rolls_push1_c41_135 or rolls_push1_c41_120 %}
    <tr class="push-pull">
        <td></td>
        <td>Push 1 stop</td>
        <td>{{ rolls_push1_c41_135|default:"" }}</td>
        <td>{{ rolls_push1_c41_120|default:"" }}</td>
        <td></td>
    </tr>
    {% endif %}
    {% if rolls_push2_c41_135 or rolls_push2_c41_120 %}
    <tr class="push-pull">
        <td></td>
        <td>Push 2 stops</td>
        <td>{{ rolls_push2_c41_135|default:"" }}</td>
        <td>{{ rolls_push2_c41_120|default:"" }}</td>
        <td></td>
    </tr>
    {% endif %}
    {% if rolls_push3_c41_135 or rolls_push3_c41_120 %}
    <tr class="push-pull">
        <td></td>
        <td>Push 3 stops</td>
        <td>{{ rolls_push3_c41_135|default:"" }}</td>
        <td>{{ rolls_push3_c41_120|default:"" }}</td>
        <td></td>
    </tr>
    {% endif %}

    <tr>
        <th>Black and White</th>
        <td></td>
        <td>{{ rolls_bw_135|default:"" }}</td>
        <td>{{ rolls_bw_120|default:"" }}</td>
        <td>{{ rolls_bw|default:"" }}</td>
    </tr>
    {% if rolls_pull2_c41_135 or rolls_pull2_c41_120 %}
    <tr class="push-pull">
        <td></td>
        <td>Pull 2 stops</td>
        <td>{{ rolls_pull2_bw_135|default:"" }}</td>
        <td>{{ rolls_pull2_bw_120|default:"" }}</td>
        <td></td>
    </tr>
    {% endif %}
    {% if rolls_pull1_bw_135 or rolls_pull1_bw_120 %}
    <tr class="push-pull">
        <td></td>
        <td>Pull 1 stop</td>
        <td>{{ rolls_pull1_bw_135|default:"" }}</td>
        <td>{{ rolls_pull1_bw_120|default:"" }}</td>
        <td></td>
    </tr>
    {% endif %}
    {% if rolls_push1_bw_135 or rolls_push1_bw_120 %}
    <tr class="push-pull">
        <td></td>
        <td>Push 1 stop</td>
        <td>{{ rolls_push1_bw_135|default:"" }}</td>
        <td>{{ rolls_push1_bw_120|default:"" }}</td>
        <td></td>
    </tr>
    {% endif %}
    {% if rolls_push2_bw_135 or rolls_push2_bw_120 %}
    <tr class="push-pull">
        <td></td>
        <td>Push 2 stops</td>
        <td>{{ rolls_push2_bw_135|default:"" }}</td>
        <td>{{ rolls_push2_bw_120|default:"" }}</td>
        <td></td>
    </tr>
    {% endif %}
    {% if rolls_push3_bw_135 or rolls_push3_bw_120 %}
    <tr class="push-pull">
        <td></td>
        <td>Push 3 stops</td>
        <td>{{ rolls_push3_bw_135|default:"" }}</td>
        <td>{{ rolls_push3_bw_120|default:"" }}</td>
        <td></td>
    </tr>
    {% endif %}

    <tr>
        <th>E6 Color Reversal</th>
        <td></td>
        <td>{{ rolls_e6_135|default:"" }}</td>
        <td>{{ rolls_e6_120|default:"" }}</td>
        <td>{{ rolls_e6|default:"" }}</td>
    </tr>
    {% if rolls_pull2_e6_135 or rolls_pull2_e6_120 %}
    <tr class="push-pull">
        <td></td>
        <td>Pull 2 stops</td>
        <td>{{ rolls_pull2_e6_135|default:"" }}</td>
        <td>{{ rolls_pull2_e6_120|default:"" }}</td>
        <td></td>
    </tr>
    {% endif %}
    {% if rolls_pull2_e6_135 or rolls_pull2_e6_120 %}
    <tr class="push-pull">
        <td></td>
        <td>Pull 1 stop</td>
        <td>{{ rolls_pull1_e6_135|default:"" }}</td>
        <td>{{ rolls_pull1_e6_120|default:"" }}</td>
        <td></td>
    </tr>
    {% endif %}
    {% if rolls_push1_e6_135 or rolls_push1_e6_120 %}
    <tr class="push-pull">
        <td></td>
        <td>Push 1 stop</td>
        <td>{{ rolls_push1_e6_135|default:"" }}</td>
        <td>{{ rolls_push1_e6_120|default:"" }}</td>
        <td></td>
    </tr>
    {% endif %}
    {% if rolls_push2_e6_135 or rolls_push2_e6_120 %}
    <tr class="push-pull">
        <td></td>
        <td>Push 2 stops</td>
        <td>{{ rolls_push2_e6_135|default:"" }}</td>
        <td>{{ rolls_push2_e6_120|default:"" }}</td>
        <td></td>
    </tr>
    {% endif %}
    {% if rolls_push3_e6_135 or rolls_push3_e6_120 %}
    <tr class="push-pull">
        <td></td>
        <td>Push 3 stops</td>
        <td>{{ rolls_push3_e6_135|default:"" }}</td>
        <td>{{ rolls_push3_e6_120|default:"" }}</td>
        <td></td>
    </tr>
    {% endif %}

    <tr class="totals">
        <td><b>Totals</b></td>
        <td></td>
        <td>{{ rolls_135 }}</td>
        <td>{{ rolls_120 }}</td>
        <td class="grand"><b>{{ rolls.count }}</b></td>
    </tr>
</table>

{% else %}
<p>You're all caught up!</p>
{% endif %}

{% endblock %}
