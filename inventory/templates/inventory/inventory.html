{% extends 'base_site.html' %}

{% block title %}
{% spaceless %}
    Inventory
    {% if filters.format_name != 'all' %}
        ({{ filters.format_name }}{% if filters.type_name != 'all' %}, {{ filters.type_name }}{% endif %})
    {% elif filters.type_name != 'all' %}
        ({{ filters.type_name }})
    {% endif %}
{% endspaceless %}
{% endblock %}

{% block content %}
<div id="spinner" class="htmx-indicator">
    <div class="loader"></div>
</div>

{% include 'inventory/_inventory-content.html' %}
{% endblock %}

{% block page_js %}
<script>
    let titlePrefix;
    let newSubtitle = '';
    let formatName = '{{ filters.format_name }}';
    let typeName = '{{ filters.type_name }}';

    // Fade the list when it's loading.
    document.getElementById('film-wrapper').style.opacity = 1.0;

    document.body.addEventListener('htmx:beforeRequest', () => {
        document.getElementById('film-wrapper').style.opacity = 0.25;
    });

    document.body.addEventListener('htmx:afterRequest', () => {
        document.getElementById('film-wrapper').style.opacity = 1.0;
    });
</script>
{% endblock %}
